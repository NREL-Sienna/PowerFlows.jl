<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>LCC Model Implementation · PowerFlows.jl</title><meta name="title" content="LCC Model Implementation · PowerFlows.jl"/><meta property="og:title" content="LCC Model Implementation · PowerFlows.jl"/><meta property="twitter:title" content="LCC Model Implementation · PowerFlows.jl"/><meta name="description" content="Documentation for PowerFlows.jl."/><meta property="og:description" content="Documentation for PowerFlows.jl."/><meta property="twitter:description" content="Documentation for PowerFlows.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.png" alt="PowerFlows.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">PowerFlows.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Welcome Page</a></li><li><a class="tocitem" href="../../../how-tos/stub/">How-to-Guides</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../../tutorials/solving-a-power-flow/">Solving a Power Flow</a></li></ul></li><li><a class="tocitem" href="../../../explanation/stub/">Explanation</a></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../developer/">Code Base Developer Guide</a></li><li class="is-active"><a class="tocitem" href>LCC Model Implementation</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Implementation-in-Sienna"><span>Implementation in Sienna</span></a></li></ul></li><li><a class="tocitem" href="../../api/public/">Public API Reference</a></li><li><a class="tocitem" href="../../api/internal/">Internal API Reference</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Reference</a></li><li class="is-active"><a href>LCC Model Implementation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>LCC Model Implementation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/NREL-Sienna/PowerFlows.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/NREL-Sienna/PowerFlows.jl/blob/main/docs/src/reference/developers/lcc_model.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Aspects-of-LCC-implementation-in-PSSE"><a class="docs-heading-anchor" href="#Aspects-of-LCC-implementation-in-PSSE">Aspects of LCC implementation in PSSE</a><a id="Aspects-of-LCC-implementation-in-PSSE-1"></a><a class="docs-heading-anchor-permalink" href="#Aspects-of-LCC-implementation-in-PSSE" title="Permalink"></a></h1><p>In real-world operation, on-load tap changers (OLTCs) adjust transformer taps so that the converter reaches its minimum firing or extinction angle limits (α<em>min or γ</em>min). The objective is to reduce the firing/extinction angle to minimize reactive power (Q) demand.</p><p>As OLTCs operate typically over several seconds, the thyristor angles act as fast control. First, the thyristor angles respond to fast power flow changes. Afterwards, the OLTCs are adjusted to keep maintaining the power set point while also minimizing the thyristor angles.</p><p>In PSSE, the control using OLTCs is ignored in power flow calculations. Instead, PSSE adjusts the thyristor angles to represent the fast control.  PSSE solves for the rectifier firing angle (α) such that <code>Idc = Iset</code>, and for the inverter extinction angle (γ) such that <code>Udc = Uset</code>. The solver adjusts α and γ automatically to satisfy these setpoints and only switches control mode if a limit is violated.</p><p>OLTC actions are not represented in the load-flow process because they operate on a slower time scale (seconds). The rationale is to provide a starting point for dynamic simulations. The tap positions can be set manually.</p><p>For safe operation and to avoid commutation failure, the rectifier should normally operate close to its minimum firing angle (α_min) with a small safety margin. Overly broad firing angle settings should be avoided. For example, setting max firing angle to 90° is too permissive. A narrower range encourages PSSE to adjust taps appropriately.</p><p>In PSSE, the variable <code>VSched</code> (scheduled DC voltage) represents the DC voltage reference, not the AC-side voltage. If <code>VSched</code> is set too low, the inverter will use unnecessarily large extinction angles (γ) to transfer power.</p><p>Power flow calculation in PSSE often fails to converge with LCC. In this case, it can help to first run the Gauss-Seidel algorithm, then Newton will also converge in PSSE.</p><h1 id="Implementation-in-Sienna"><a class="docs-heading-anchor" href="#Implementation-in-Sienna">Implementation in Sienna</a><a id="Implementation-in-Sienna-1"></a><a class="docs-heading-anchor-permalink" href="#Implementation-in-Sienna" title="Permalink"></a></h1><p>We implement the control logic of LCC based on the principle of maintaining the thyristor angles at their respective minimum limits, and using transformer tap adjustments for active power control. This control principle is better suited for representing realistic steady-state grid conditions.</p><p>The AC power flow calculation in Sienna is modified to directly solve for tap steps and thyristor angles of the LCC system. To this end, the state vector, the Jacobian matrix, the residuals are modified. The state vector is extended by 4 additional variables for each LCC system, namely 2 for tap positions and 2 for thyristor angles of the rectifier and inverter sides of the LCC system. The Jacobian matrix is extended by additional terms that represent the relevant partial derivatives. The residuals are extended by 4 terms per LCC system to match the additional state variables. The first two account for the active power set point and active power balance in the LCC system using the tap steps. The other two residual terms control for keeping the thyristor angles at their respective minimum limits. This approach follows the method in Panosyan, A. (2010). Modeling of Advanced Power Transmission System Controllers (PhD dissertation).</p><p>The complex apparent power for a rectifier or inverter is calculated as <span>$S = V t \frac{\sqrt{6}}{\pi} I_{dc} e^{j \phi}$</span>, where <span>$V$</span> is the magnitude of AC voltage at the terminal, <span>$I_{dc}$</span> is the DC current in the LCC system (positive for flow direction rectifier to inverter, and vice versa), and <span>$\phi$</span> is the angle between AC voltage and current.</p><p>To allow for the Jacobian implementation, a simplified calculation of the angle between the AC current and voltage at the LCC terminals was used. The equation below represents the calculation used for the angle:</p><p class="math-container">\[\phi = \arccos\left(\cos(\alpha) \text{sign}(I_{dc}) - \frac{x I_{dc}}{\sqrt{2} t V}\right)\]</p><p>In the equation above, the variable <span>$\alpha$</span> represents the thyristor angle. The active and reactive powers for a converter station are </p><p class="math-container">\[\begin{aligned}
P &amp;= V t \frac{\sqrt{6}}{\pi} I_{dc} \cos(\phi) = V t \frac{\sqrt{6}}{\pi} I_{dc} \cos(\alpha) - \frac{\sqrt{6}}{\pi} x I_{dc}^2 \\
Q &amp;= V t \frac{\sqrt{6}}{\pi} I_{dc} \sin(\phi) = V t \frac{\sqrt{6}}{\pi} I_{dc} \sin\left(\arccos\left(\cos(\alpha) \text{sign}(I_{dc}) - \frac{x I_{dc}}{\sqrt{2} t V}\right)\right)
\end{aligned}\]</p><p>The relevant non-zero entries in the Jacobian matrix for the rectifier (r) and inverter (i) sides are:</p><p class="math-container">\[\begin{aligned}
\frac{\partial P_r}{\partial V_r} &amp;= t_r \frac{\sqrt{6}}{\pi} I_{dc} \cos(\alpha_r) \\
\frac{\partial Q_r}{\partial V_r} &amp;= V_r t_r \frac{\sqrt{6}}{\pi} I_{dc} \left(\sin(\phi_r) - \cos(\phi_r) \frac{x_r I_{dc}}{\sqrt{2} V_r t_r \sin^2(\phi_r)}\right) \\
\frac{\partial Q_r}{\partial t_r} &amp;= V_r t_r \frac{\sqrt{6}}{\pi} I_{dc} \left(\frac{\sin(\phi_r)}{t_r} - \cos(\phi_r) \frac{x_r I_{dc}}{\sqrt{2} V_r t_r^2 \sin^2(\phi_r)}\right) \\
\frac{\partial Q_r}{\partial \alpha_r} &amp;= V_r t_r \frac{\sqrt{6}}{\pi} I_{dc} \frac{\cos(\phi_r) \sin(\alpha_r)}{\sin(\phi_r)} \\
\frac{\partial P_r}{\partial t_r} &amp;= V_r \frac{\sqrt{6}}{\pi} I_{dc} \cos(\alpha_r) \\
\frac{\partial P_r}{\partial \alpha_r} &amp;= -V_r \frac{\sqrt{6}}{\pi} I_{dc} t_r \sin(\alpha_r) \\
\frac{\partial F_{t_i}}{\partial V_i} &amp;= t_i \frac{\sqrt{6}}{\pi} (-I_{dc}) \cos(\alpha_i) \\
\frac{\partial F_{t_r}}{\partial t_r} &amp;= V_r \frac{\sqrt{6}}{\pi} I_{dc} \cos(\alpha_r) \\
\frac{\partial F_{t_r}}{\partial \alpha_r} &amp;= -V_r \frac{\sqrt{6}}{\pi} I_{dc} t_r \sin(\alpha_r) \\
\frac{\partial F_{t_i}}{\partial t_i} &amp;= V_i \frac{\sqrt{6}}{\pi} (-I_{dc}) \cos(\alpha_i) \\
\frac{\partial F_{t_r}}{\partial V_r} &amp;= t_r \frac{\sqrt{6}}{\pi} I_{dc} \cos(\alpha_r) \\
\frac{\partial F_{t_i}}{\partial V_r} &amp;= t_r \frac{\sqrt{6}}{\pi} I_{dc} \cos(\alpha_r) \\
\frac{\partial F_{t_i}}{\partial t_r} &amp;= V_r \frac{\sqrt{6}}{\pi} I_{dc} \cos(\alpha_r) \\
\frac{\partial F_{t_i}}{\partial \alpha_i} &amp;= -V_i \frac{\sqrt{6}}{\pi} (-I_{dc}) t_i \sin(\alpha_i) \\
\frac{\partial F_{t_i}}{\partial \alpha_r} &amp;= -V_r \frac{\sqrt{6}}{\pi} I_{dc} t_r \sin(\alpha_r) \\
\frac{\partial F_{\alpha_r}}{\partial \alpha_r} &amp;= 1 \\
\frac{\partial F_{\alpha_i}}{\partial \alpha_i} &amp;= 1
\end{aligned}\]</p><p>The residuals are defined as follows:</p><p class="math-container">\[\begin{aligned}
F_{t_r} &amp;= P_r - P_{\text{set}, r} \\
F_{t_i} &amp;= P_r + P_i - I_{dc} R_{dc}^2 \\
F_{\alpha_r} &amp;= \alpha_r - \alpha_{r, \min} \\
F_{\alpha_i} &amp;= \alpha_i - \alpha_{i, \min}
\end{aligned}\]</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../developer/">« Code Base Developer Guide</a><a class="docs-footer-nextpage" href="../../api/public/">Public API Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 13 February 2026 02:34">Friday 13 February 2026</span>. Using Julia version 1.12.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
